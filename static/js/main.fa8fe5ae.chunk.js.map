{"version":3,"sources":["components/DesignCase.tsx","components/ProductionTutorials.tsx","components/Reference.tsx","components/Contributors.tsx","components/SimilarCharts.tsx","components/context.ts","utils/index.ts","utils/request.ts","api/upload.ts","template.ts","components/CBKSelect/addChart.ts","components/CBKSelect/index.tsx","utils/template.ts","App.tsx","components/ChartProps.tsx","utils/exportFile.ts","reportWebVitals.ts","index.tsx"],"names":["CaseContent","styled","div","CaseBlock","Container","children","Item","image","description","link","src","alt","className","href","target","rel","Table","table","Td","td","ShowAllButton","ContributeName","span","ChartContext","React","createContext","chartList","currentChart","Object2FormData","data","form","FormData","key","Object","prototype","hasOwnProperty","call","value","append","http","Axios","create","baseURL","timeout","request","config","a","tip","errorTip","result","status","isObjectLike","error","response","url","notification","message","checkResult","code","String","prefix2","mdxString","addChart","id","name","alias","family","def","purpose","coord","category","shape","dataPres","minQty","maxQty","fieldConditions","channel","recRate","zhCompletedKB","CKBJson","options","chartInfo","push","path","Option","Select","CBKSelect","props","showSearch","style","width","placeholder","optionFilterProp","onChange","onFocus","onBlur","onSearch","val","filterOption","input","option","Array","isArray","toString","toLowerCase","indexOf","map","item","template","string","interpolate","replace","match","$1","components","PlaceHolder","opacity","DesignCaseContainer","DesignCase","DesignCaseItem","ProductionTutorials","newTableData","background","keys","text","forEach","group","length","newGroup","subLength","linkText","groupData","i","subItem","j","columnOne","rowSpan","columnTwo","columnThree","concat","assign","handleTableData","index","textAlign","paddingLeft","textDecoration","color","renderTR","Reference","useState","show","setShow","useSpring","tension","friction","precision","to","height","overflow","set","onClick","Button","Contributors","marginBottom","info","contentEl","date","dayjs","format","content","trigger","placement","size","SimilarCharts","ChartProps","useContext","scope","some","plugins","frontmatter","gfm","highlight","App","enName","setContent","loading","setLoading","isModalVisible","setModalVisible","setChartInfo","useEffect","uploadImages","files","file","smfile","method","then","imgList","title","handleRepalceAllImg","imgReg","matchList","newCotnet","preUrl","urlList","urls","oldURL","newUrl","Error","success","warn","handleCancel","type","fileName","eleLink","document","createElement","download","display","blob","Blob","URL","createObjectURL","body","appendChild","click","removeChild","exportFile","disabled","undefined","mode","newValue","replaceValue","JSON","stringify","output","styleArr","split","rule","trim","ruleParts","toUpperCase","getStyles","overridePreview","el","render","visible","onOk","compiled","all","letter","onCancel","console","log","marginTop","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.fa8fe5ae.chunk.js","sourcesContent":["// @ts-nocheck\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst CaseContent = styled.div`\n  margin: 0 60px;\n  column-count: 2;\n  column-gap: 30px;\n\n  >div{\n    break-inside: avoid;\n  }\n\n  >div:not(:first-child) {\n    margin-top: 30px;\n  }\n`;\n\n// TODO 点击查询放大图\nconst Container = ({ children }) => {\n  return <CaseContent>{children}</CaseContent>;\n}\n\ninterface ItemProps {\n  description: string;\n  image: string;\n  link?: string;\n}\n\n\nconst CaseBlock = styled.div`\n  padding: 20px;\n  /* 该用 column count 方式后，第二排上面的阴影看不到了，先用 border 实现 */\n  /* box-shadow: 0px 0px 4px 2px rgba(211, 211, 211, 0.5); */\n  border: 1px solid rgb(230, 230, 230);\n  overflow: hidden;\n\n  img {\n    width: 100%;\n  }\n\n  .case-text {\n    padding: 10px 20px;\n    color: #4a4a4a;\n    font-size: 14px;\n    text-align: justify;\n    line-height: 30px;\n    @media screen and (max-width: 600px) {\n      line-height: 20px;\n      font-size: 13px;\n      padding: 10px 0;\n    }\n  }\n\n  .view-origin {\n    border: 1px solid #d0d0d0;\n    float: right;\n    font-size: 14px;\n    border-radius: 2px;\n    text-align: center;\n    padding: 8px 12px;\n    cursor: pointer;\n    color: rgb(74, 74, 74);\n    text-decoration: none;\n  }\n`;\n\nconst Item: React.FC<ItemProps> = ({ image, description, link }) => {\n  return (\n    <CaseBlock>\n      <div\n      // TODO 预览\n      // onClick={() => this.handlePreview(i * 2)}\n      >\n        <img src={image} alt=\"图片\" />\n      </div>\n      <div className=\"case-text\">{description}</div>\n      {link ? (\n        <a className=\"view-origin\" href={link} target=\"_blank\" rel=\"noopener noreferrer\">\n          查看出处\n        </a>\n      ) : null}\n    </CaseBlock>\n  )\n}\n\nexport default { Container, Item };","// @ts-nocheck\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst Table = styled.table`\n  border-collapse: collapse;\n  width: 100%;\n  table-layout: fixed;\n`;\n\nconst Td = styled.td`\n  border: 1px solid #d0d0d0;\n  padding: 10px 10px;\n  text-align: center;\n  color: #4a4a4a;\n`;\n\ntype ToolItem = {\n  readonly link?: string;\n  readonly linkText: string;\n}\n\ninterface Props {\n  data: Record<string, Record<string, ToolItem[]>>\n}\n\nexport const ProductionTutorials: React.FC<Props> = ({ data }) => {\n  const newTableData = handleTableData(data || {});\n  return (\n    <Table>\n      <tbody>{newTableData.map((item, i) => renderTR(item, i))}</tbody>\n    </Table>\n  );\n}\n\nfunction renderTR(item, index) {\n  const columnOne = item.columnOne ? (\n    <Td width=\"25%\" rowSpan={item.columnOne.rowSpan}>\n      {item.columnOne.text}\n    </Td>\n  ) : null;\n\n  const columnTwo = item.columnTwo ? (\n    <Td width=\"25%\" rowSpan={item.columnTwo.rowSpan}>\n      {item.columnTwo.text}\n    </Td>\n  ) : null;\n\n  const columnThree = (\n    <Td width=\"50%\" style={{ textAlign: 'left', paddingLeft: '15px' }}>\n      {item.columnThree.link ? (\n        <a href={item.columnThree.link} style={{ textDecoration: 'underline', color: '#4a4a4a' }} target=\"__blank\">\n          {item.columnThree.linkText}\n        </a>\n      ) : (\n          item.columnThree.linkText\n        )}\n    </Td>\n  );\n\n  return (\n    <tr style={item.background ? { background: '#f6f6f6' } : null} key={index}>\n      {columnOne}\n      {columnTwo}\n      {columnThree}\n    </tr>\n  );\n}\n\n\nfunction handleTableData(data: Props['data']) {\n  let result = [];\n  let background = 0;\n  const newData = Object.keys(data).map((key) => ({\n    text: key,\n    children: data[key]\n  }));\n\n  newData.forEach((group) => {\n    let length = 0;\n    const newGroup = Object.keys(group.children).map((key) => {\n      var subLength;\n      // 插入空数据的文本，计算长度\n      if (group.children[key].length === 0) {\n        group.children[key] = [{ linkText: '--' }];\n        subLength = 1;\n      } else {\n        subLength = group.children[key].length;\n      }\n      length += subLength;\n      return {\n        text: key,\n        children: group.children[key],\n        length: subLength\n      };\n    });\n\n    // 每一大类的数据\n    var groupData = [];\n    // 每一大类的背景色不同\n    background = 1 - background;\n    newGroup.forEach((item, i) => {\n      item.children.forEach((subItem, j) => {\n        if (j === 0) {\n          if (i === 0) {\n            // 大类第一项，含有三列\n            groupData.push({\n              columnOne: {\n                rowSpan: length,\n                text: group.text\n              },\n              columnTwo: {\n                rowSpan: item.length,\n                text: item.text\n              },\n              columnThree: subItem,\n              background: background\n            });\n          } else {\n            // 小类第一项，含有两列\n            groupData.push({\n              columnTwo: {\n                rowSpan: item.length,\n                text: item.text\n              },\n              columnThree: subItem,\n              background: background\n            });\n          }\n        } else {\n          // 最后一列\n          groupData.push({\n            columnThree: subItem,\n            background: background\n          });\n        }\n      });\n    });\n\n    // TODO 这一页的类型待补全\n    result = result.concat(groupData);\n    Object.assign(group, {\n      children: newGroup,\n      length: length\n    });\n    // group.children = newGroup;\n    // group.length = length;\n  });\n  return result;\n}\n","// @ts-nocheck\nimport React, { useState } from 'react';\nimport { animated, useSpring } from 'react-spring';\nimport styled from 'styled-components';\nimport Button from '@material-ui/core/Button';\n\nconst Container = styled.div`\n  position: relative;\n  ol li {\n    color: rgb(187, 187, 187);\n  }\n`;\n\nconst ShowAllButton = styled.div`\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  height: 50px;\n  display: flex;\n  align-items: flex-end;\n  background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.8) 30%, rgba(255, 255, 255, 1));\n`;\n\nexport const Reference: React.FC = ({ children }) => {\n  const [show, setShow] = useState<boolean>(false);\n\n  const [props, set] = useSpring(() => ({\n    config: { tension: 1000, friction: 100, precision: 1 },\n    to: { height: 300, overflow: 'hidden' }\n  }));\n\n  const showAll = () => {\n    setShow(true);\n    set({ to: { height: 'auto' } });\n  };\n\n  return (\n    <Container>\n      <animated.div className=\"reference\" style={props}>{children}</animated.div>\n      {show ? null : (\n        <ShowAllButton onClick={showAll}>\n          <Button style={{ color: '#343E73' }}>[ 查看所有 ]</Button>\n        </ShowAllButton>\n      )}\n    </Container>\n  );\n};","// @ts-nocheck\nimport React from 'react';\nimport styled from 'styled-components';\nimport { Popover } from 'antd';\nimport { size } from 'lodash';\nimport dayjs from 'dayjs';\n\nconst ContributeName = styled.span`\nmargin: 0 10px;\n`;\n\n// TODO antd v4 popover 没办法自己消失了...\nexport const Contributors = ({ data = [] }) => {\n  return (\n    <div style={{ marginBottom: '18px' }}>\n      {Object.keys(data).map((key, i) => {\n        const info = data[key];\n\n        const contentEl = (\n          <>\n            {info.map((item, index) => {\n              const date = typeof item.date === 'number' ? dayjs(item.date).format('YYYY-MM-DD') : item.date;\n              return <div key={index}>{date} {item.content}</div>\n            })}\n          </>\n        );\n        return (\n          <span key={i}>\n            <Popover trigger=\"hover\" placement=\"right\" content={contentEl}>\n              <ContributeName>{key}</ContributeName>\n            </Popover>\n            {size(data) !== i + 1 && '  •  '}\n          </span>\n        );\n      })}\n    </div>\n  );\n};","import React, { useState } from 'react';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  marginBottom: '18px'\r\n\r\n`;\r\n\r\nexport const SimilarCharts: React.FC = ({ children }) => {\r\n  return (\r\n    <Container>\r\n      <i>此处会自动识别</i>\r\n     \r\n    </Container>\r\n  );\r\n};","import React from 'react';\r\n\r\n\r\nexport interface ChartInfo {\r\n    name: string\r\n    image: string\r\n    path: string\r\n    /** 常用使用这个字段 */\r\n    family: string[]\r\n    /** 形状 */\r\n    shape: string[]\r\n    /** 图类 */\r\n    category: string[]\r\n    /** 用途 */\r\n    purpose: string[]\r\n    /**\r\n     * 便于搜索\r\n     * $searchMap: { 类型-属性值: 1 }\r\n     */\r\n    $searchMap: Record<string, number>\r\n}\r\n\r\n  \r\nexport const ChartContext = React.createContext<{\r\n    chartList: ChartInfo[];\r\n    currentChart: ChartInfo | null;\r\n}>({\r\n    chartList: [],\r\n    currentChart: null,\r\n});\r\n\r\n ","export function Object2FormData(data: Record<string, any>) {\r\n    const form = new FormData()\r\n    for (const key in data) {\r\n        if (Object.prototype.hasOwnProperty.call(data, key)) {\r\n            const value = data[key]\r\n            form.append(key, value)\r\n        }\r\n    }\r\n    return form\r\n}\r\n\r\n\r\nexport function toHump(name: string) {\r\n\r\n    return name.replace(/^(\\w)/,function(all, letter){\r\n        return letter.toUpperCase();\r\n    }).replace(/_(\\w)/g, function(all, letter){\r\n        return ' ' + letter.toUpperCase();\r\n    });\r\n}","import Axios, { AxiosRequestConfig } from 'axios';\nimport { isObjectLike } from 'lodash';\nimport { notification } from 'antd';\nimport { ResponseData } from '../interface/http';\ninterface Config extends AxiosRequestConfig {\n  errorTip?: string; // 错误提示内容，获取后端数据失败时，\n}\nexport const rootPath = '/api';\n\nexport const http = Axios.create({\n  baseURL: rootPath,\n  timeout: 300000,\n  // headers: {\n  //   'Content-Type': 'application/json',\n  // },\n  // withCredentials: true,\n});\n\n\nexport const request = async function<T = any>(config: Config) {\n  const tip = config.errorTip || '网络开小差了！';\n  try {\n    const result = await http.request<ResponseData<T>>(config);\n    if (\n      result &&\n      result.status >= 200 &&\n      result.status < 300 &&\n      isObjectLike(result.data)\n    ) {\n      return result.data;\n    }\n\n    const error = {\n      tip,\n      response: result,\n      url: config.url,\n    };\n    notification.error({\n      message: `${tip}`,\n      description: error.tip,\n    });\n    throw error\n  } catch (error) {\n    notification.error({\n      message: `${tip}`,\n      description: `${error}`,\n    });\n    throw error\n  }\n\n\n};\nexport default request;\n/**\n * 检测服务端处理结果，失败就提示，成功就返回data.data\n * 注意：下游将无法获取data.code 和data.massage，下游可在catch中处理失败的情况\n * @param res\n */\nexport function checkResult<T extends any>(data: ResponseData<T>) {\n  if (data.code !== 0 && data.message) {\n    notification.error({\n      message: `请求错误 ${data.code}`,\n      description: String(data.message),\n    });\n    throw data.message;\n  } else {\n    return data.data;\n  }\n}\n","import { Object2FormData } from '../utils';\r\nimport request, { checkResult } from '../utils/request';\r\n\r\n\r\nconst prefix2 = process.env.NODE_ENV === 'production' ? '//api.8and1.cn/mdx-editor/v1' : 'http://127.0.0.1:7001/api/v1';\r\n\r\nexport function uploadImg(data: any) {\r\n  return request({\r\n    method: \"POST\",\r\n    url: `${prefix2}/common/uploadImg`,\r\n    data: Object2FormData(data),\r\n  }).then(checkResult);\r\n}\r\n\r\nexport function uploadURL(urlList: string[]) {\r\n  return request<Record<string, string>>({\r\n    method: \"POST\",\r\n    url: `${prefix2}/common/uploadFromNetWork`,\r\n    data: {\r\n      urls: urlList\r\n    },\r\n  }).then(checkResult);\r\n}","export const mdxString = `\r\n\r\n# {{name}} - {{enName}}\r\n\r\n\r\n<section id=\"overview-graph-detail-content\">\r\n\r\n![chart-overview](//i.ibb.co/tXs7fG8/f816563e72cd53bd178c95560497f29a.png)\r\n\r\n面积图，或称区域图，是一种随有序变量的变化，反映数值变化的统计图表，原理与[折线图](<http://www.tuzhidian.com:3000/chart?id=5c56e1b34a8c5e048189c693>)相似。而面积图的特点在于，折线与自变量坐标轴之间的区域，会由颜色或者纹理填充。\r\n\r\n面积图也可用于多个系列数据的比较。这时，面积图的外观看上去类似层叠的山脉，在错落有致的外形下表达数据的总量和趋势。相较于[折线图](<http://www.tuzhidian.com:3000/chart?id=5c56e1b34a8c5e048189c693>)，面积图不仅可以清晰地反映出数据的趋势变化，也能够强调不同类别的数据间的差距对比。但它的劣势在于，填充会让形状互相遮盖，反而看不清变化。一种解决方法，是使用有透明度的颜色，来“让”出覆盖区域。\r\n\r\n\r\n</section>\r\n\r\n## 图表属性\r\n\r\n<!-- 自动识别，勿修改 -->\r\n<section id=\"chart-property-graph-detail\">\r\n\r\n  <ChartProps />\r\n\r\n</section>\r\n\r\n## 图表详解\r\n\r\n### 元素构成\r\n\r\n<section id=\"chart-detail-graph-detail-content\">\r\n\r\n![null](//i.ibb.co/744nz6L/1549126400621-63f16a96-22e1-415f-865b-0319041aeb12.jpg)\r\n\r\n\r\n\r\n</section>\r\n\r\n### 适用场景\r\n\r\n<section id=\"appropriate-scene-graph-detail\">\r\n\r\n想要体现在连续自变量下，一组或多组数据的趋势变化以及相互之间的对比，同时也能够观察到数据总量的变化趋势：\r\n\r\n例如，位移=速度（平均速度或微速度）x 时间：s=v\\*t; 那么如果我们的 x 轴是时间 t，y 轴是每个时刻的速度 v，使用面积图，不仅可以观察速度随时间变化的趋势，还可以根据面积大小来感受位移距离的长度变化。\r\n\r\n\r\n\r\n</section>\r\n\r\n### 不适用场景\r\n\r\n<section id=\"unappropriate-scene-graph-detail\">\r\n\r\n（1）自变量不是顺序性的变量，这种情况下并不适合用面积图。例如下图（Highcharts, no date\r\n\r\n）中展示的是小张和小潘的五种水果的销量对比，但是因为横轴是五种不同类的水果，他们之间不存在连续的序列关系，所以整体并不能达到趋势分析的效果，仅仅显示了不同水果的销量对比。因此，当自变量不存在连续序列关系时，仅仅需要体现类别之间的比较，使用柱状图更加合适。\r\n\r\n![null](//i.ibb.co/VVg17wm/1547797386342-28407ec2-49d8-4567-b0e6-a9e47e82e4df.png)\r\n\r\n![null](<//i.ibb.co/JrNYSmt/1548240757524-521af458-9850-497f-a4bb-4fd8b734a5dd.png>)\r\n\r\n（2）多系列数据比较时，填充会导致折线被覆盖，难以辨别。这时可使用有透明度的颜色进行填充。但这种方法并不完美，因为半透明颜色叠加后，会改变原有的颜色。比如下图（镝次元数据传媒实验室, 2017\r\n\r\n）中，橙色叠加半透明的蓝色，变成了暗黄色。换句话说，这也增加了视觉上需要辨认的颜色。当数据系列很多时，很可能让人眼花缭乱。这时，回归简单的折线图反而是更好的选择。\r\n\r\n![null](<//i.ibb.co/cNKw2Ps/1548655808446-17f7ed66-f829-460e-9ee3-2e199371e0c7.png?x-oss-process=image/resize,w_716>)\r\n\r\n\r\n\r\n</section>\r\n\r\n## 相似图形\r\n\r\n<!-- 自动识别，勿修改 -->\r\n<div id=\"resemble-chart-graph-detail\"></div>\r\n\r\n<SimilarCharts/>\r\n\r\n## 设计案例\r\n\r\n<div id=\"design-case-graph-detail\"></div>\r\n\r\n<DesignCaseContainer>\r\n  \r\n<DesignCaseItem\r\n    description=\"潮汐预测，采用不规则的坐标系，使用海蓝色为基础色调进行配色，通过透明度的调整使图形更富有美感。\"\r\n    link=\"http://www.joanangdesign.com/\"\r\n    image=\"//i.ibb.co/QdxRXkp/346ff944cb6911dc5521095aa5a6008f.png\"\r\n/>\r\n            \r\n<DesignCaseItem\r\n    description=\"25年中交通事故的统计数据的可视化，通过颜色和面积区域的宽度来展示事故的数量、分布和发展状况，整体配色具有层次感和视觉吸引力。\"\r\n    link=\"https://dribbble.com/shots/5471757-Data-Viz-Area-Chart\"\r\n    image=\"//i.loli.net/2021/11/02/OW9ip6NwjlAUe3v.png\"\r\n/>\r\n            \r\n</DesignCaseContainer>\r\n\r\n## 使用场景\r\n\r\n<div id=\"usage-scene-graph-detail-content\"></div>\r\n\r\n1）以下案例取自商业周刊，通过面积图呈现某个时间段股票价格的变化情况。以下表格列出了在该时间段内每月的股票价格：\r\n\r\n![null](//i.ibb.co/5sz982z/1550136131616-8391f653-28d0-416d-b0ce-e7b7d4a25f5a.png)\r\n\r\n\r\n\r\n## 制作教程\r\n\r\n<!-- 制作教程大类有：BI 工具 / 代码库 / 设计软件，请依次按照顺序填写 -->\r\n\r\n<div id=\"production-tutorial-graph-detail\"></div>\r\n\r\n<ProductionTutorials\r\n  data={{\r\n  \"BI工具\": {\r\n    \"Excel\": [\r\n      {\r\n        \"linkText\": \"Excel绘制多种风格面积图\",\r\n        \"link\": \"https://zhuanlan.zhihu.com/p/23509455\"\r\n      },\r\n      {\r\n        \"linkText\": \"Excel仿制带时间趋势线的双色填充面积图（设计案例3）\",\r\n        \"link\": \"http://www.sohu.com/a/119815492_468636\"\r\n      }\r\n    ],\r\n    \"Power BI\": [\r\n      {\r\n        \"linkText\": \"用PowerBI制作面积图\",\r\n        \"link\": \"https://www.jianshu.com/p/41654868f9c6\"\r\n      }\r\n    ],\r\n    \"Tableau\": [\r\n      {\r\n        \"linkText\": \"\",\r\n        \"link\": \"https://onlinehelp.tableau.com/current/pro/desktop/en-us/qs_area_charts.htm\"\r\n      }\r\n    ],\r\n    \"QlikView\": []\r\n  },\r\n  \"代码库\": {\r\n    \"ECharts\": [\r\n      {\r\n        \"linkText\": \"官方实例\",\r\n        \"link\": \"https://echarts.baidu.com/examples/editor.html?c=area-basic\"\r\n      }\r\n    ],\r\n    \"AntV\": [\r\n      {\r\n        \"linkText\": \"基础面积图\",\r\n        \"link\": \"https://antv.alipay.com/zh-cn/g2/3.x/demo/area/basic.html?theme=dark\"\r\n      },\r\n    ],\r\n    \"D3\": [\r\n      {\r\n        \"linkText\": \"基础面积图\",\r\n        \"link\": \"https://beta.observablehq.com/@mbostock/d3-area-chart\"\r\n      }\r\n    ],\r\n    \"matplotlib\": [\r\n      {\r\n        \"linkText\": \"案例及代码\",\r\n        \"link\": \"https://python-graph-gallery.com/area-plot/\"\r\n      }\r\n    ],\r\n    \"gglpot2\": [\r\n      {\r\n        \"linkText\": \"基础代码\",\r\n        \"link\": \"https://www.r-graph-gallery.com/164-area-chart-ggplot2/\"\r\n      },\r\n    ]\r\n  },\r\n  \"设计工具\": {\r\n    \"PS/AI/Sketch\": [\r\n      {\r\n        \"linkText\": \"通过Google Sheets、illustrator和Sketch设计面积图（英文）\",\r\n        \"link\": \"https://medium.com/product-design-adventures/designing-better-charts-with-google-sheets-illustrator-and-sketch-bbdae473cf9\"\r\n      },\r\n    ]\r\n  }\r\n}}\r\n/>\r\n\r\n\r\n## 专项工具\r\n\r\n<div id=\"specialty-tool-graph-detail\"></div>\r\n\r\n（1）[在线生成工具](<https://online.visual-paradigm.com/diagrams.jsp#diagramlist:proj=0&new=AreaChart>)\r\n\r\n\r\n\r\n## 学习资源\r\n\r\n<div id=\"learning-resource-graph-detail\"></div>\r\n\r\n（1）[面积图与折线图的区别。](<https://www.sohu.com/a/199245953_416207>)\r\n\r\n\r\n\r\n## 参考文献\r\n\r\n<div id=\"reference-graph-detail\"></div>\r\n\r\n<Reference>\r\n  \r\n\r\n1. HIGHCHARTS. (n.d.). 包含负值的面积图. [online]. Available at: https://www.hcharts.cn/demo/highcharts/area-negative [Accessed 25 January 2019].\r\n\r\n\r\n2. HIGHCHARTS. (n.d.). 分组堆叠柱状图. [online]. Available at: https://www.hcharts.cn/demo/highcharts/column-stacked-and-grouped [Accessed 25 January 2019].\r\n\r\n\r\n</Reference>\r\n\r\n## 贡献者\r\n\r\n<div id=\"contributor-graph-detail\"></div>\r\n\r\n<!-- 默认读取github commit记录，非commit可以在data中可以自定义 -->\r\n\r\n<Contributors\r\n  data={{\r\n  \"Amphetamine\": [\r\n    {\r\n      \"date\": 1548950400000,\r\n      \"content\": \"绘图\"\r\n    },\r\n    {\r\n      \"date\": 1546272000000,\r\n      \"content\": \"文档资料搜集、整理和编辑\"\r\n    }\r\n  ],\r\n}}\r\n  merge\r\n/>\r\n`\r\n\r\nexport const templateString = `\r\n# {{name}} - {{enName}}\r\n\r\n\r\n<section id=\"overview-graph-detail-content\">\r\n\r\n![chart-overview]({{representativePicture}})\r\n\r\n{{overview}}\r\n\r\n</section>\r\n\r\n## 图表属性\r\n\r\n<!-- 自动识别，勿修改 -->\r\n<section id=\"chart-property-graph-detail\">\r\n\r\n  <ChartProps />\r\n\r\n</section>\r\n\r\n## 图表详解\r\n\r\n### 元素构成\r\n\r\n<section id=\"chart-detail-graph-detail-content\">\r\n\r\n{{constitution}}\r\n\r\n</section>\r\n\r\n### 适用场景\r\n\r\n<section id=\"appropriate-scene-graph-detail\">\r\n\r\n{{appropriateScene}}\r\n\r\n</section>\r\n\r\n### 不适用场景\r\n\r\n<section id=\"unappropriate-scene-graph-detail\">\r\n\r\n{{unAppropriateScene}}\r\n\r\n</section>\r\n\r\n## 相似图形\r\n\r\n<!-- 自动识别，勿修改 -->\r\n<div id=\"resemble-chart-graph-detail\"></div>\r\n\r\n<SimilarCharts/>\r\n\r\n## 设计案例\r\n\r\n<div id=\"design-case-graph-detail\"></div>\r\n\r\n<DesignCaseContainer>\r\n  {{DesignCase}}\r\n</DesignCaseContainer>\r\n\r\n## 使用场景\r\n\r\n<div id=\"usage-scene-graph-detail-content\"></div>\r\n\r\n{{usageScene}}\r\n\r\n## 制作教程\r\n\r\n<!-- 制作教程大类有：BI 工具 / 代码库 / 设计软件，请依次按照顺序填写 -->\r\n\r\n<div id=\"production-tutorial-graph-detail\"></div>\r\n\r\n{{productionTutorial}}\r\n\r\n\r\n## 专项工具\r\n\r\n<div id=\"specialty-tool-graph-detail\"></div>\r\n\r\n{{specialTool}}\r\n\r\n## 学习资源\r\n\r\n<div id=\"learning-resource-graph-detail\"></div>\r\n\r\n{{learningResource}}\r\n\r\n## 参考文献\r\n\r\n<div id=\"reference-graph-detail\"></div>\r\n\r\n<Reference>\r\n  {{reference}}\r\n</Reference>\r\n\r\n## 贡献者\r\n\r\n<div id=\"contributor-graph-detail\"></div>\r\n\r\n<!-- 默认读取github commit记录，非commit可以在data中可以自定义 -->\r\n\r\n{{contributors}}\r\n`","import { CKBJson, addChart, ChartKnowledge, Language, TransKnowledgeProps } from '@antv/knowledge';\r\n\r\nconst parallel_coordinates: ChartKnowledge = {\r\n  id: 'parallel_coordinates',\r\n  name: 'Parallel Coordinates',\r\n  alias: [],\r\n  family: ['LineCharts'],\r\n  def: '',\r\n  purpose: ['Distribution', 'Relation'],\r\n  coord: [],\r\n  category: ['Statistic'],\r\n  shape: ['Lines'],\r\n  dataPres: [{ minQty: 1, maxQty: 1, fieldConditions: ['Interval'] }],\r\n  channel: [],\r\n  recRate: \"\" as any,\r\n};\r\n\r\nconst parallel_coordinates_trans: TransKnowledgeProps = {\r\n  name: '平行坐标系',\r\n  alias: [],\r\n  def: '平行坐标系，是一种含有多个垂直平行坐标轴的统计图表。',\r\n};\r\n\r\naddChart(\r\n  parallel_coordinates,\r\n  { 'zh-CN': parallel_coordinates_trans} as Record<Language, TransKnowledgeProps>\r\n);\r\n\r\nconst sunburst_chart: ChartKnowledge = {\r\n  id: 'sunburst_chart',\r\n  name: 'Sunburst Chart',\r\n  alias: [],\r\n  family: ['LineCharts'],\r\n  def: '',\r\n  purpose: ['Composition'],\r\n  coord: [],\r\n  category: ['Statistic'],\r\n  shape: ['Round'],\r\n  dataPres: [{ minQty: 1, maxQty: 1, fieldConditions: ['Interval'] }],\r\n  channel: [],\r\n  recRate: \"\" as any,\r\n};\r\n\r\nconst sunburst_chart_trans: TransKnowledgeProps = {\r\n  name: '旭日图',\r\n  alias: [],\r\n  def: '旭日图是一种表现层级数据的图表。',\r\n};\r\n\r\naddChart(\r\n  sunburst_chart,\r\n  { 'zh-CN': sunburst_chart_trans } as Record<Language, TransKnowledgeProps>\r\n);\r\n\r\nexport { CKBJson }","\r\nimport React from 'react';\r\nimport { Select }  from 'antd';\r\nimport { ChartKnowledgeJSON } from '@antv/knowledge';\r\nimport { CKBJson } from './addChart';\r\n\r\nexport const zhCompletedKB = CKBJson('zh-CN');\r\nconst options: {\r\n    path: string\r\n    name: string;\r\n}[] = []\r\nfor (const key in zhCompletedKB) {\r\n    const chartInfo = zhCompletedKB[key]\r\n    const { category, purpose, shape, family, name, id } = chartInfo\r\n    options.push({\r\n        path: key,\r\n        name: name,\r\n    })\r\n}\r\nconst { Option } = Select;\r\n\r\nconst CBKSelect: React.FC<{ onChange: (data: ChartKnowledgeJSON) => void }> = (props) => {\r\n    function onChange(value: keyof typeof zhCompletedKB) {\r\n        props.onChange(zhCompletedKB[value]);\r\n    }\r\n    \r\n    function onBlur() {\r\n\r\n    }\r\n    \r\n    function onFocus() {\r\n\r\n    }\r\n    \r\n    function onSearch(val: string) {\r\n\r\n    }\r\n  return (\r\n    <Select\r\n        showSearch\r\n        style={{ width: 380 }}\r\n        placeholder=\"请选择一个模板\"\r\n        optionFilterProp=\"children\"\r\n        onChange={onChange}\r\n        onFocus={onFocus}\r\n        onBlur={onBlur}\r\n        onSearch={onSearch}\r\n        filterOption={(input, option) => {\r\n            const str = option && Array.isArray(option.children) ? option.children.toString() : option?.children\r\n            return str.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n        }}\r\n    >\r\n        {\r\n            options.map(item => {\r\n                return  <Option key={item.path} value={item.path}>{item.name}-{item.path}</Option>\r\n            })\r\n        }\r\n    </Select>\r\n  );\r\n};\r\n\r\nexport default CBKSelect","\r\n/**\r\n * \r\n * @param {string} string \r\n * @returns {(data?: any) => string}\r\n * @example\r\n * template('I am {{name}}')({name: 'Super man'}) \r\n * // => 'I am Super man'\r\n * var compiled = template('I am {{name}}')\r\n * compiled({name: 'Super man'})\r\n * // => 'I am Super man'\r\n */\r\nfunction template(string: string, interpolate: RegExp = /\\{\\{([\\s\\S]+?)\\}\\}/g) {\r\n    return function(data: Record<string, any>) {\r\n        return string.replace(interpolate, function(match, $1) {\r\n            const key = $1\r\n            if (data[key] == null) {\r\n                return match\r\n            }\r\n            return data[key]\r\n        });\r\n    }\r\n}\r\nexport default template","import React, { useEffect, useMemo } from \"react\";\nimport { render } from \"react-dom\";\nimport MDX from \"@mdx-js/runtime\";\nimport { Editor, Viewer } from '@bytemd/react'\nimport { Row, Col, Button, Space, notification, Modal } from 'antd';\nimport frontmatter from '@bytemd/plugin-frontmatter'\nimport gfm from '@bytemd/plugin-gfm'\nimport highlight from '@bytemd/plugin-highlight';\nimport { ChartKnowledgeJSON, CKBJson } from '@antv/knowledge';\n// 设计案例\nimport DesignCase from './components/DesignCase';\n// 制作教程\nimport { ProductionTutorials } from './components/ProductionTutorials';\n// 参考文献\nimport { Reference } from './components/Reference';\n// 贡献者\nimport { Contributors } from './components/Contributors';\nimport { SimilarCharts } from './components/SimilarCharts'\nimport { ChartProps } from './components/ChartProps'\nimport { uploadImg, uploadURL } from \"./api/upload\";\nimport { mdxString, templateString } from \"./template\";\nimport CBKSelect from \"./components/CBKSelect\";\nimport exportFile from \"./utils/exportFile\";\nimport template from \"./utils/template\";\nimport { toHump } from \"./utils\";\n\nimport './document.css';\n\nimport './App.css'\nimport { getData } from \"./test\";\n\n\nconst PlaceHolder: React.FC<any> = ({ children }) => {\n  return <em style={{ opacity: 0.65 }}>{children}</em>;\n}\n\n// Provide custom components for markdown elements\nconst components = {\n  PlaceHolder,\n  DesignCaseContainer: DesignCase.Container,\n  DesignCaseItem: DesignCase.Item,\n  ProductionTutorials,\n  Reference,\n  Contributors,\n  SimilarCharts,\n  ChartProps,\n};\n// Provide variables that might be referenced by JSX\nconst scope = {\n  some: \"value\"\n};\n\nconst plugins =[\n  frontmatter(),\n  gfm(),\n  highlight(),\n]\n\nfunction getStyles(style: string) {\n  var output: Record<string, string> = {};\n\n  if (!style) {\n      return {};\n  }\n\n  var camelize = function camelize(str: string) {\n      return str.replace (/-(.)/g, (match: string, $1: string | undefined) => {\n        if ($1) {\n          return $1.toUpperCase();\n        }\n        return match;\n      })\n  }\n\n  var styleArr = style.split(';');\n\n  for (var i = 0; i < styleArr.length; ++i) {\n\n      var rule = styleArr[i].trim();\n\n      if (rule) {\n          var ruleParts = rule.split(':');\n          var key = camelize(ruleParts[0].trim());\n          output[key] = ruleParts[1].trim();\n          \n      }\n  }\n\n  return output;\n}\nfunction App() {\n  const [content, setContent] = React.useState(template(mdxString)({\n    name: '面积图',\n    enName: 'Area Chart'\n  }));\n  const [loading, setLoading] = React.useState(false);\n  const [isModalVisible, setModalVisible] = React.useState(false);\n  const [chartInfo, setChartInfo] = React.useState<ChartKnowledgeJSON>();\n  useEffect(() => {\n    // getData().then((str: string) => {\n\n    //   setContent(str)\n    // })\n  }, [])\n  // @ts-ignore\n  const onChange = (newValue: string) => {\n\n    const replaceValue = newValue.replace(/style=\"([\\d\\w\\s,:;\\\\(\\\\)-]*)\"/ig, (match, $1) => {\n      if ($1) {\n        return `style={${JSON.stringify(getStyles($1))}}`\n      }\n      return match\n    })\n    setContent(replaceValue);\n  };\n  const uploadImages = async (files: File[]) => {\n\n    const file = files[0];\n    if (!file) {\n      return []\n    }\n    const result = await uploadImg({smfile: file})\n\n    const imgList = []\n    for (const name in result) {\n      if (Object.prototype.hasOwnProperty.call(result, name)) {\n        const url: string = result[name];\n        imgList.push({title: file.name, alt: file.name, url: url.replace('https:', '')})\n      }\n    }\n    return imgList\n  }\n  const handleRepalceAllImg = async () => {\n    const imgReg = /http:\\/\\/\\S*((\\.png)|(\\.jpeg)|(\\.gif))/g;\n    const matchList = content.match(imgReg)\n    if (!Array.isArray(matchList)) {\n      return\n    }\n    let newCotnet = content\n    let preUrl = ''\n    for (const url of matchList) {\n      setLoading(true)\n      try {\n        const result = await uploadURL([url])\n        for (const oldURL in result) {\n          if (Object.prototype.hasOwnProperty.call(result, oldURL)) {\n            const newUrl = result[oldURL].replace('https:', '');\n            if (preUrl === newUrl) {\n              throw Error('替换出错')\n            }\n            newCotnet = newCotnet.replace(oldURL, newUrl)\n            preUrl = newUrl\n          }\n        }\n        setContent(newCotnet)\n        setLoading(false)\n        notification.success({\n          message: `替换成功`,\n          description: `${url}`,\n        })\n      } catch (error) {\n        notification.warn({\n          message: `替换失败`,\n          description: `${url}`,\n        })\n        setLoading(false)\n      }\n    }\n  } \n  const createTemplate = () => {\n    if (chartInfo) {\n      var compiled = template(mdxString);\n\n      setContent(compiled({\n        ...chartInfo,\n        enName: toHump(chartInfo.id)\n      }));\n    }\n    handleCancel();\n  }\n  const handleCancel  = () => {\n    setModalVisible(false);\n  }\n  const openModal = () => {\n    setModalVisible(true);\n  }\n  const handleTemplateSelectChange = (data: any) => {\n    console.log(data)\n    setChartInfo(data);\n  }\n  const downloadFile = () => {\n    if (chartInfo) {\n      exportFile(content, `${chartInfo.id}.mdx`)\n    }\n  }\n  return (\n    <div>\n      <div  style={{height: 10}}/>\n      <Space>\n        <Button onClick={handleRepalceAllImg} loading={loading}>一键替换http图片(比较慢)</Button>\n        <Button href=\"https://sm.ms/\" target=\"_blank\">sm.ms</Button>\n        <Button href=\"https://imgbb.com/\" target=\"_blank\">imgbb.com</Button>\n        <Button onClick={openModal} type=\"primary\" >新建模板</Button>\n        <Button onClick={downloadFile} type=\"primary\" disabled={chartInfo === undefined} >下载mdx文件</Button>\n      </Space>\n      <div  style={{height: 10}}/>\n      <Editor\n        mode=\"auto\"\n        value={content}\n        onChange={onChange}\n        uploadImages={uploadImages}\n        plugins={plugins}\n        overridePreview={(el, props) => { \n          render(\n            <div className=\"markdown-body chart-container pg-chart\" {...props}>\n              <MDX scope={scope} components={components}>{content}</MDX>  \n            </div>\n          , el)\n        }}\n      />\n      <Modal title=\"\" visible={isModalVisible} onOk={createTemplate} onCancel={handleCancel}>\n        <CBKSelect onChange={handleTemplateSelectChange} />\n\n        <p style={{marginTop: 20}}>没有你创建的图表，前往<a href=\"https://github.com/Plothis/gradict-charts-doc/blob/dev/src/constants/charts.ts\">gradict-charts-doc</a>新增一个吧</p>\n      </Modal>\n    </div>\n  );\n}\n\nexport default App;\n","import React, { useContext } from 'react';\r\n\r\nimport { ChartContext } from './context';\r\n\r\n\r\nexport const ChartProps: React.FC<{ name: string }> = (props) => {\r\n  const { currentChart } = useContext(ChartContext);\r\n  let propsMap: Record<string, string[]> = {}\r\n  if (currentChart) {\r\n    propsMap = {\r\n      '形状': currentChart.shape,\r\n      '图类': currentChart.category,\r\n      '功能': currentChart.purpose,\r\n    }\r\n  }\r\n  return (\r\n    <div style={{ marginBottom: '18px' }}>\r\n     <i>此处会自动识别, 无需改动</i>\r\n      {/* <ul>\r\n        {Object.keys(propsMap).map((typeName, index) => {\r\n          return (\r\n            <li key={typeName}>\r\n              <strong>{typeName}：</strong>{propsMap[typeName].join(' • ')}\r\n            </li>\r\n          )\r\n        })}\r\n      </ul> */}\r\n    </div>\r\n  );\r\n};","/**\n * 文本内容导出文件\n * 支持JSON, html\n */\nexport default function exportFile(content: string, fileName: string) {\n    // 创建隐藏的可下载链接\n    const eleLink = document.createElement('a');\n    eleLink.download = fileName;\n    eleLink.style.display = 'none';\n    // 字符内容转变成blob地址\n    const blob = new Blob([content]);\n    eleLink.href = URL.createObjectURL(blob);\n    // 触发点击\n    document.body.appendChild(eleLink);\n    eleLink.click();\n    // 然后移除\n    document.body.removeChild(eleLink);\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bytemd/dist/index.min.css'\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}